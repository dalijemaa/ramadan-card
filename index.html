<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Ø¨Ø·Ø§Ù‚Ø© ØªÙ‡Ù†Ø¦Ø© Ø±Ù…Ø¶Ø§Ù† VIP</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<style>
body{font-family:Tahoma;background:#111;color:#fff;text-align:center;padding:20px;}
.card{width:400px;margin:50px auto;padding:20px;border-radius:15px;background:linear-gradient(180deg,#1a1a1a,#000);position:relative;box-shadow:0 0 25px gold;overflow:hidden;}
.card::before{content:"";position:absolute;inset:0;background:radial-gradient(circle at top,#ffd700,#000);opacity:0.1;border-radius:15px;z-index:0;}
.card h1{color:gold;margin:0 0 10px;position:relative;z-index:2;}
.card h3{color:#ffeaa7;margin:0 0 10px;position:relative;z-index:2;}
.card p{color:#fff;margin:10px 0;position:relative;z-index:2;}
.counter{display:flex;gap:10px;justify-content:center;position:relative;z-index:2;margin-top:10px;}
.counter div{background:rgba(0,0,0,0.3);padding:6px 10px;border-radius:8px;min-width:60px;}
button{padding:10px 18px;margin:10px 0;border-radius:8px;font-weight:bold;border:none;cursor:pointer;background:#25D366;color:#fff;}
#starsCanvas{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:15px;z-index:1;}
</style>
</head>
<body>

<div class="card" id="card">
<canvas id="starsCanvas"></canvas>
<h1>ğŸŒ™ Ø±Ù…Ø¶Ø§Ù† ÙƒØ±ÙŠÙ… ğŸŒ™</h1>
<h3 id="cardFrom">Ù…Ù†: Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø¬Ù…Ø§Ø¹Ø©</h3>
<p id="cardMsg">ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø¨Ø®ÙŠØ± Ø¨Ù…Ù†Ø§Ø³Ø¨Ø© Ø­Ù„ÙˆÙ„ Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ</p>

<div class="counter">
  <div><span id="days">--</span> Ø£ÙŠØ§Ù…</div>
  <div><span id="hours">--</span> Ø³Ø§Ø¹Ø§Øª</div>
  <div><span id="minutes">--</span> Ø¯Ù‚Ø§Ø¦Ù‚</div>
  <div><span id="seconds">--</span> Ø«ÙˆØ§Ù†ÙŠ</div>
</div>

<button id="saveBtn">ğŸ’¾ Ø­ÙØ¸ / ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø©</button>
</div>

<audio id="adhanAudio" src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" preload="auto"></audio>

<script>
// =========================
// ğŸ”¹ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„
// =========================
let senderName = "Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø¬Ù…Ø§Ø¹Ø©";
let greetingText = "ÙƒÙ„ Ø¹Ø§Ù… ÙˆØ£Ù†ØªÙ… Ø¨Ø®ÙŠØ± Ø¨Ù…Ù†Ø§Ø³Ø¨Ø© Ø­Ù„ÙˆÙ„ Ø´Ù‡Ø± Ø±Ù…Ø¶Ø§Ù† Ø§Ù„Ù…Ø¨Ø§Ø±Ùƒ";
let countdownDate = new Date("Feb 18, 2026 00:00:00").getTime();

document.getElementById('cardFrom').innerText = "Ù…Ù†: " + senderName;
document.getElementById('cardMsg').innerText = greetingText;

// =========================
// ğŸ”¹ Ø¹Ø¯Ø§Ø¯ ØªÙ†Ø§Ø²Ù„ÙŠ
// =========================
function updateCounter(){
  const now = Date.now();
  let diff = countdownDate - now;
  if(diff < 0) diff = 0;
  const days = Math.floor(diff/(1000*60*60*24));
  const hours = Math.floor((diff/(1000*60*60))%24);
  const mins = Math.floor((diff/(1000*60))%60);
  const secs = Math.floor((diff/1000)%60);
  document.getElementById('days').innerText = days;
  document.getElementById('hours').innerText = String(hours).padStart(2,'0');
  document.getElementById('minutes').innerText = String(mins).padStart(2,'0');
  document.getElementById('seconds').innerText = String(secs).padStart(2,'0');
}
setInterval(updateCounter,1000);
updateCounter();

// =========================
// ğŸ”¹ Ø®Ù„ÙÙŠØ© Ø§Ù„Ù†Ø¬ÙˆÙ… ÙˆØ§Ù„Ù‡Ù„Ø§Ù„
// =========================
const canvas = document.getElementById('starsCanvas');
const ctx = canvas.getContext('2d');
canvas.width = canvas.offsetWidth;
canvas.height = canvas.offsetHeight;

const stars = [];
for(let i=0;i<100;i++){
  stars.push({x: Math.random()*canvas.width, y: Math.random()*canvas.height, r: Math.random()*1.5, speed: Math.random()*0.5+0.1});
}

function drawStars(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle = 'white';
  for(let s of stars){
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fill();
    s.y -= s.speed;
    if(s.y < 0) s.y = canvas.height;
  }
  // Ø§Ù„Ù‡Ù„Ø§Ù„ Ø§Ù„Ø°Ù‡Ø¨ÙŠ
  ctx.fillStyle = 'gold';
  ctx.beginPath();
  ctx.arc(canvas.width-60,60,25,0,Math.PI*2);
  ctx.fill();
  ctx.fillStyle = '#111';
  ctx.beginPath();
  ctx.arc(canvas.width-50,50,25,0,Math.PI*2);
  ctx.fill();
  requestAnimationFrame(drawStars);
}
drawStars();

// =========================
// ğŸ”¹ Ø²Ø± Ø­ÙØ¸ / ØªÙ†Ø²ÙŠÙ„ Ø§Ù„ØµÙˆØ±Ø© Ù…Ø¶Ù…ÙˆÙ†
// =========================
document.getElementById('saveBtn').addEventListener('click', async () => {
    try {
        // Ø¥Ù†Ø´Ø§Ø¡ Ù†Ø³Ø®Ø© Ù…Ù† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
        const canvasElement = await html2canvas(document.getElementById('card'), {scale:2, useCORS:true});
        // ØªØ­ÙˆÙŠÙ„Ù‡Ø§ Ø¥Ù„Ù‰ Data URL Ù„Ø¶Ù…Ø§Ù† Ø§Ù„ØªÙ†Ø²ÙŠÙ„ ÙÙŠ ÙƒÙ„ Ø§Ù„Ù…ØªØµÙØ­Ø§Øª
        const imageData = canvasElement.toDataURL("image/png");
        const link = document.createElement('a');
        link.href = imageData;
        link.download = "ramadan_vip_card.png";
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
    } catch(e) {
        console.error("Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©:", e);
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ù…Ø­Ø§ÙˆÙ„Ø© Ø­ÙØ¸ Ø§Ù„ØµÙˆØ±Ø©. Ø­Ø§ÙˆÙ„ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.");
    }
});

// =========================
// ğŸ”¹ ØµÙˆØª Ø§Ù„ØªÙƒØ¨ÙŠØ±Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
// =========================
window.addEventListener('load', () => {
    const audio = document.getElementById('adhanAudio');
    audio.volume = 0.5;
    audio.play().catch(err => {
        console.log("Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØªØŒ Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©:", err);
    });
});
</script>

</body>
</html>
